<div class="container mt-3" style="min-width: 350px;">

  <div class="mb-4">
    <h2 class="text-success text-center">
      Sign up
    </h2>

  </div>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <div class="mb-3">
      <input class="form-control bg-body-secondary"
        placeholder="Email" formControlName="username">
        @if (hasDisplayableError('username')) {
          <div class="error-feedback">
            @if (form.controls['username'].hasError('required')) {
              <div>
                Please enter your email address.
              </div>
              }@if (form.controls['username'].hasError('email')) {
              <div>
                Please enter a valid email address.
              </div>
            }
          </div>
        }
      </div>
      <div class="mb-3">
        <input class="form-control bg-body-secondary"
          placeholder="Role" formControlName="role">
          @if (hasDisplayableError('role') && form.controls['role'].hasError('required')) {
            <div class="error-feedback" >
              Please enter your role.
            </div>
          }
        </div>
        <div class="mb-3">
          <input class="form-control bg-body-secondary" type="password"
            placeholder="Password" formControlName="password">
            @if (hasDisplayableError('password')) {
              <div class="error-feedback">
                @switch (form.controls['password'].errors | firstKey) {
                  @case ('required') {
                    <div>
                      Please enter your password.
                    </div>
                  }
                  @case ('minlength') {
                    <div>
                      Atleast 6 characters required.
                    </div>
                  }
                  @case ('pattern') {
                    <div>
                      One or more special character(s).
                    </div>
                  }
                }
              </div>
            }
          </div>
          <div class="mb-3">
            <input class="form-control bg-body-secondary" type="password"
              placeholder="Confirm Password" formControlName="confirmPassword">
              @if (hasDisplayableError('confirmPassword') && form.controls['confirmPassword'].hasError('passwordMismatch')) {
                <div class="error-feedback" >
                  Passwords doesn't match .
                </div>
              }
            </div>

            <div class="mt-4">
              <button type="submit" class="btn btn-success w-100 rounded-3">
                Register
              </button></div>
              <div  class="text-center py-5">Already have an account?
                <a routerLink="/signin" class="text-decoration-none fw-medium text-success d-inlin-block">Sign in</a>
              </div>
            </form>
          </div>